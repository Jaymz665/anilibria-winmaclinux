# Как подключить приложение TorrentStream?
## Установка приложения
- Качаем архив для Вашей платформы [отсюда](https://github.com/trueromanus/TorrentStream/releases/latest). Для платформы Windows копия приложения будет в комплекте.
- Создаем папку для него (потому что он будет в нее скачивать файлы), распаковываем в нее архив.
- Выбирает порт (по умолчанию 5082, если требуется изменить его  необходимо объявить переменную окружение WEB_PORT для приложения
и указать в ней другой порт)
### Linux
После распаковки необходимо выполнить команду `chmod +x` для того чтобы сделать возможным запуск приложения.
## Как пользоваться?
Запукаем вначале приложение TorrentStream далее запускаем приложение Anilibria.Qt.  
Если неудобно запускать каждый раз два приложения руками есть другие способы как можно запускать приложение TorrentStream.  
В приложении AniLibria.Qt есть дополнительные настройки касающиеся интеграции с приложением TorrentStream.  
Для того чтобы открыть настройки перейдите на страницу TorrentStream и нажмите на кнопку с шестеренками.
#### Порт приложения
Если у Вас эта в настройке 0 необходимо установить порт. По умолчанию порт у приложения 5082 (если Вы меняли его для TorrentStream то тут надо указать соответствующий).
#### Использовать проксирование видео для QtAv
Актуально для Windows версии. QtAv это один из плееров доступных для Windows сборки. Но из-за смены схемы хранения видео файлов
он стал проглатывать целые фрагменты видео. Чтобы сгладить эту особенность плеера в приложении TorrentStream есть возможность
эмулировать старое поведение для него и если настройка включена то будет использоваться приложение TorrentStream которая позволит
сократить или вообще убрать проглатывание фрагментов. По умолчанию настройка включена.
#### Удалять скачанное после каждого запуска приложения
Актуально если Вы только стримите торренты (кнопка `Смотреть торрент` в карточке релиза). Когда Вы стримите торрент на самом деле
внутри работает обычный торрент клиент который качает файлы на диск. Чтобы не засорять диск можно активировать эту настройку
и при каждом запуске все скачанные ранее файлы будут удалены. По умолчанию настройка включена.
## Запуск вместе с приложением Anilibria.Qt
В приложении перейдите на страницу `TorrentStream` далее откройте настройки (иконка шестеренки).  
В поле `Путь к приложению` введите полный путь к приложению TorrentStream включающий исполняемый файл.
После чего необходимо перезапустить приложение AniLibria.Qt. При следующем запуске приложения AniLibria.Qt
будет запущено и приложение TorrentStream. Но тут стоит учитывать тот факт что когда приложение AniLibria.Qt закрывается
то вместе с ним закроется и приложение TorrentStream. Т.е. если Вы ориентируетсь на скачивание большого количества торрентов
то лучше выбрать один из нижеперечисленных вариантов, но если Вы только стримите торренты то этот вариант Вам подходит.
## Как добавить приложение в автозапуск с системой?
### Windows
https://www.anoopcnair.com/windows-10-add-applications-startup-msconfig/
### Linux
#### Ubuntu
https://help.ubuntu.com/stable/ubuntu-help/startup-applications.html.en
#### Fedora
https://www.techotopia.com/index.php/Fedora_Desktop_-_Starting_Applications_on_Login
### macOS
https://www.idownloadblog.com/2015/03/24/apps-launch-system-startup-mac/

## Как добавить приложение как службу?

### Windows
Информация не указана
### Linux
Информация не указана
### macOS
Информация не указана

## Известные проблемы и методы их обхода
### Windows

#### Не воспроизводятся скачанные полностью видео - кнопка Смотреть торрент или со страницы TorrentStream
Плеер VLC не поддерживает длинные пути, все пути ограничены только в 260 символов. Скачанные файлы в пути помимо просто пути еще включает довольно длинное имя папки с названием релиза и длинное название серии. Чтобы решить проблему необходимо перенести приложение TorrentStream в папку с очень коротким путем. Примеры:
```
C:\my\longest\path\what\i\cant\create\just\from\my\brain\lalalalalalla\torrentStream <- плохой путь он слишком длинный
C:\torrentStream\ <- хороший путь потому что короткий
```
Если Вы запускаете TorrentStream вместе с приложением то далее надо перейти на страницу `TorrentStream` , открыть настройки (кнопка с шестеренкой) и указать новый путь к приложению TorrentStream в поле `Путь к приложению`.  
[Тикет](https://code.videolan.org/videolan/vlc/-/issues/25640) VLC для отслеживания 
